<div class="container" ng-controller="verify">
  <h5> Question ID : [[questionList._id]]</h5>
  <table class="table table-striped table-bordered">
    <tr>
      <th>Subject ID</th>
      <td>[[questionList.SID]]</td>
    </tr>
    <tr>
      <th>Topic</th>
      <td>
        <div ng-repeat="top in topicList"> [[top.topicName]]
        </div>
      </td>
    </tr>
    <tr>
      <th> Question </th>
      <td> [[questionList.questionName]] <img src="/[[quesImage]]" style="width:75px; height:50px;" /> </td>
    </tr>
    <tr>
      <th colspan="2"> Options </th>
    </tr>
    <tr>
      <td> A) [[questionList.option1]] <img src="/[[option1Image]]" style="width:75px; height:50px; margin-right:100px" /> </td>
      <td> B) [[questionList.option2]] <img src="/[[option2Image]]" style="width:75px; height:50px;" /> </td>
    </tr>
    <tr>
      <td>
        C) [[questionList.option3]] <img src="/[[option3Image]]" style="width:75px; height:50px; margin-right:100px; margin-top:50px" />
      </td>
      <td>
        D) [[questionList.option4]] <img src="/[[option4Image]]" style="width:75px; height:50px;" />
      </td>
    </tr>
    <tr>
      <th> AnswerKey </th>
      <td> <span ng-repeat="ans in questionList.answerKey"> <strong> [[ans]] </strong> </span> </td>
    </tr>
    <tr>
      <th>Solution</th>
      <td>[[questionList.solution]] <img src="/[[solutionImage]]" style="width:75px; height:50px;" /></td>
    </tr>
    <tr>
      <th>Level</th>
      <td>[[questionList.level]]</td>
    </tr>
    <tr>
      <th>Status</th>
      <td>[[questionList.status]]</td>
    </tr>

  </table>
  <a href="/question/view"> Go back </a>
</div>

<script>
  app.controller("verify", function($scope) {
    $("#message").hide();
    var url = window.location.href;
    url = url.split("/");
    $scope._id = url[url.length - 1];
    console.log($scope._id)
    $.get("/api/v1/question/update/" + $scope._id, function(data) {
      console.log(data);
      if (data.length == 0) {

      } else {
        $scope.questionList = data[0];
        $scope.questionName = $scope.questionList.questionName;
        $scope.option1 = $scope.questionList.option1;
        $scope.option2 = $scope.questionList.option2;
        $scope.option3 = $scope.questionList.option3;
        $scope.option4 = $scope.questionList.option4;
        $scope.level = $scope.questionList.level;
        [$scope.quesImage, $scope.option1Image, $scope.option2Image, $scope.option3Image, $scope.option4Image, $scope.solutionImage] = $scope.questionList.imagePath;
        // $scope.option1Image =  $scope.questionList.imagePath[0];

        console.log($scope.option1Image);
        var id = {};
        id.data = data[0].topicId;
        $.post("/api/v1/topic/name/", id, function(result) {
          console.log("Name searching...");
          console.log(result);
          $scope.topicList = result;
          $scope.$apply();
        });
        $scope.$apply();
      }
    });
  });
</script>
